<!DOCTYPE html>
<html>
    <head>
        <title>ZZ</title>
        <meta name="theme-color" content="black">
        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
        <link rel="manifest" href="site.webmanifest">
        <style>
            * {
                padding: 0;
                margin: 0;
            }

            body {
                display: flex;
                justify-content: center;
                align-items: center;
                background-color: black;
                min-height: 100vh;
            }

            /* Update body height for iOS Safari */
            @supports (-webkit-touch-callout: none) {
                body {
                    min-height: -webkit-fill-available;
                }
            }
        </style>
    </head>
    <body>
        <h1 id="code"
            style="
                font-family: monospace;
                font-weight: normal;
                font-size: 5em;
                color: gray;
            "
        ></h1>
        <span id="cursor"
            style="
                font-family: monospace;
                font-weight: bold;
                font-size: 5em;
                color: white;
                visibility: hidden;
            "
        >|</span>
        <script>
            async function sleep(ms) { 
                return new Promise(res => setTimeout(res, ms)); 
            }

            async function typeCode(text) { 
                for (let i = 0; i <= text.length; i++) {
                    await sleep(130);
                    const cursor = document.querySelector("#code");
                    const s = text.slice(0, i);
                    cursor.innerText = s;
                    if (s.startsWith("// ")) {
                        cursor.style.color = "#298200";
                    };
                }
            }

            async function toggleCursorNTimes(n) {
                const cursor = document.querySelector("#cursor");
                for (let i = 0; i < n; i++) {
                    await sleep(350);
                    if (cursor.style.visibility === "hidden") {
                        cursor.style.visibility = "visible";
                    } else {
                        cursor.style.visibility = "hidden";
                    }
                }
            }
           
            async function run() {
                await toggleCursorNTimes(5);
                await typeCode("// TODO coming soon");
                await toggleCursorNTimes(Infinity);
            };

            run();
        </script>
    </body>
</html>